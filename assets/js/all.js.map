{"version":3,"sources":["admin.js","all.js","index.js"],"names":["Url","apiPath","token","renderTable","arr","orderPageTableContent","document","querySelector","str","forEach","item","productStr","products","productItem","title","quantity","orderStatus","paid","createOrderTime","Date","createdAt","createOrderDate","getFullYear","getMonth","getDate","id","user","name","tel","address","email","innerHTML","changeOrderItemStatus","orderId","status","newStatus","axios","put","data","headers","Authorization","then","Swal","fire","icon","showConfirmButton","timer","getOrderData","error","console","log","deleteOrderItem","deleteAllOrderItem","deleteAllOrders","addEventListener","e","preventDefault","updateOrderItem","targetClass","target","getAttribute","dataset","renderC3","total","category","undefined","price","categoryAry","Object","keys","newData","push","sort","a","b","length","otherTotal","index","splice","chart","c3","generate","bindto","type","columns","get","res","orderData","orders","adminInit","toThousands","x","parts","toString","split","replace","join","renderProducts","productList","images","origin_price","productFilter","productSelect","value","filterData","filter","getProductData","productData","renderCart","shoppingCartList","totalPrice","carts","product","textContent","finalTotal","addCart","post","productId","updateCartData","updateCart","cartData","numBtn","closest","nodeName","cartId","numCheck","numchange","patch","resp","deleteAllCart","deleteAllCarts","deleteData","deleteCart","deleteid","getCartData","submitOrder","orderInfoBtn","customerName","customerPhone","customerEmail","customerAddress","tradeWay","confirmButtonText","payment","validateOrderForm","inputs","querySelectorAll","form","constraints","姓名","presence","message","電話","minimum","Email","寄送地址","交易方式","nextElementSibling","errors","validate","init"],"mappings":"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","file":"all.js","sourcesContent":["/* eslint-disable no-useless-return */\n/* eslint-disable no-undef */\nconst Url = 'https://livejs-api.hexschool.io/api/livejs/v1';\nconst apiPath = 'key0329';\nconst token = '0fWkelXd5wUVly8uLgIwLborQ4p2';\n\n// 渲染訂單資訊\nfunction renderTable(arr) {\n  const orderPageTableContent = document.querySelector('.orderPage-table-content');\n\n  let str = '';\n\n  arr.forEach((item) => {\n    // 訂單品項字串\n    let productStr = '';\n    item.products.forEach((productItem) => {\n      productStr += `<p>${productItem.title} x ${productItem.quantity}</p>`;\n    });\n\n    // 訂單狀態字串\n    let orderStatus = '';\n    if (item.paid === true) {\n      orderStatus = '已付款';\n    } else {\n      orderStatus = '未付款';\n    }\n\n    // 訂單日期字串\n    const createOrderTime = new Date(item.createdAt * 1000);\n    const createOrderDate = `${createOrderTime.getFullYear()} / ${\n      createOrderTime.getMonth() + 1\n    } / ${createOrderTime.getDate()}`;\n\n    str += `\n    <tr>\n      <td>${item.id}</td>\n      <td>\n        <p>${item.user.name}</p>\n        <p>${item.user.tel}</p>\n      </td>\n      <td>${item.user.address}</td>\n      <td>${item.user.email}</td>\n      <td>\n        ${productStr}\n      </td>\n      <td>${createOrderDate}</td>\n      <td class=\"orderStatus\">\n        <a href=\"#\" class=\"js-orderStatus\" data-status=\"${item.paid}\" data-id=\"${item.id}\">${orderStatus}</a>\n      </td>\n      <td>\n        <input type=\"button\" class=\"delSingleOrder-Btn\" data-id=\"${item.id}\" value=\"刪除\" />\n      </td>\n    </tr>\n    `;\n  });\n  if (orderPageTableContent) {\n    orderPageTableContent.innerHTML = str;\n  }\n}\n\n// 更改訂單狀態\nfunction changeOrderItemStatus(orderId, status) {\n  let newStatus;\n  if (status === 'true') {\n    newStatus = false;\n  } else {\n    newStatus = true;\n  }\n\n  axios\n    .put(\n      `${Url}/admin/${apiPath}/orders`,\n      {\n        data: {\n          id: orderId,\n          paid: newStatus,\n        },\n      },\n      {\n        headers: {\n          Authorization: token,\n        },\n      },\n    )\n    .then(() => {\n      Swal.fire({\n        icon: 'success',\n        title: '修改完成',\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      // eslint-disable-next-line no-use-before-define\n      getOrderData();\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    });\n}\n\n// 刪除單筆訂單\nfunction deleteOrderItem(orderId) {\n  axios\n    .delete(`${Url}/admin/${apiPath}/orders/${orderId}`, {\n      headers: {\n        Authorization: token,\n      },\n    })\n    .then(() => {\n      Swal.fire({\n        icon: 'success',\n        title: '刪除完成',\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      // eslint-disable-next-line no-use-before-define\n      getOrderData();\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    });\n}\n\n// 刪除全部訂單\nfunction deleteAllOrderItem() {\n  const deleteAllOrders = document.querySelector('.js-deleteAllOrders');\n  if (deleteAllOrders) {\n    deleteAllOrders.addEventListener('click', (e) => {\n      e.preventDefault();\n      axios\n        .delete(`${Url}/admin/${apiPath}/orders`, {\n          headers: {\n            Authorization: token,\n          },\n        })\n        .then(() => {\n          // eslint-disable-next-line no-use-before-define\n          getOrderData();\n          Swal.fire({\n            icon: 'success',\n            title: '已清除全部訂單',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        })\n        .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log(error);\n          Swal.fire({\n            title: '購物車已空',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    });\n  }\n}\n\n// 修改訂單資訊\nfunction updateOrderItem() {\n  const orderPageTableContent = document.querySelector('.orderPage-table-content');\n  if (orderPageTableContent) {\n    orderPageTableContent.addEventListener('click', (e) => {\n      e.preventDefault();\n      const targetClass = e.target.getAttribute('class');\n      const orderId = e.target.dataset.id;\n      const { status } = e.target.dataset;\n\n      if (targetClass !== 'js-orderStatus' && targetClass !== 'delSingleOrder-Btn') {\n        return;\n      }\n      if (targetClass === 'js-orderStatus') {\n        changeOrderItemStatus(orderId, status);\n      }\n      if (targetClass === 'delSingleOrder-Btn') {\n        deleteOrderItem(orderId);\n      }\n    });\n  }\n}\n\n// C3.js 圖表\nfunction renderC3(data) {\n  const total = {};\n  data.forEach((item) => {\n    item.products.forEach((productItem) => {\n      if (total[productItem.category] === undefined) {\n        total[productItem.category] = productItem.price * productItem.quantity;\n      } else {\n        total[productItem.category] += productItem.price * productItem.quantity;\n      }\n    });\n  });\n\n  const categoryAry = Object.keys(total);\n  const newData = [];\n  categoryAry.forEach((item) => {\n    const arr = [];\n    arr.push(item);\n    arr.push(total[item]);\n    newData.push(arr);\n  });\n\n  // 資料大小排序\n  newData.sort((a, b) => b[1] - a[1]);\n\n  // 如果筆數超過四筆，統整為其他\n  if (newData.length > 3) {\n    let otherTotal = 0;\n    newData.forEach((item, index) => {\n      if (index > 2) {\n        otherTotal += newData[index][1];\n      }\n    });\n\n    newData.splice(3, newData.length - 1);\n    newData.push(['其他', otherTotal]);\n  }\n\n  // eslint-disable-next-line no-unused-vars, no-undef\n  const chart = c3.generate({\n    bindto: '#chart', // HTML 元素綁定\n    data: {\n      type: 'pie',\n      columns: newData,\n    },\n  });\n}\n\n// 取得訂單資訊\nfunction getOrderData() {\n  axios\n    .get(`${Url}/admin/${apiPath}/orders`, {\n      headers: {\n        Authorization: token,\n      },\n    })\n    .then((res) => {\n      const orderData = res.data.orders;\n      renderTable(orderData);\n      renderC3(orderData);\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    });\n}\n\n// 初始化\nfunction adminInit() {\n  getOrderData();\n  updateOrderItem();\n  deleteAllOrderItem();\n}\n\nadminInit();\n","","/* eslint-disable no-useless-return */\n/* eslint-disable no-undef */\nconst Url = 'https://livejs-api.hexschool.io/api/livejs/v1';\nconst apiPath = 'key0329';\n\n// 增加千分位逗點\nfunction toThousands(x) {\n  const parts = x.toString().split('.');\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  return parts.join('.');\n}\n\n// 渲染產品列表\nfunction renderProducts(arr) {\n  const productList = document.querySelector('.productWrap');\n  let str = '';\n\n  arr.forEach((item) => {\n    str += `\n    <li class=\"productCard\">\n        <h4 class=\"productType\">新品</h4>\n        <img src=\"${item.images}\" alt=\"\">\n        <a href=\"#\" class=\"addCardBtn\" data-id=${item.id}>加入購物車</a>\n        <h3>${item.title}</h3>\n        <del class=\"originPrice\">NT$ ${toThousands(item.origin_price)}</del>\n        <p class=\"nowPrice\">NT$ ${toThousands(item.price)}</p>\n    </li>\n    `;\n  });\n\n  productList.innerHTML = str;\n}\n\n// 篩選產品列表\nfunction productFilter(arr) {\n  const productSelect = document.querySelector('.productSelect');\n\n  productSelect.addEventListener('change', (e) => {\n    if (e.target.value === '全部') {\n      renderProducts(arr);\n    } else {\n      const filterData = arr.filter((item) => item.category === e.target.value);\n      renderProducts(filterData);\n    }\n  });\n}\n\n// 取得產品資料\nfunction getProductData() {\n  axios\n    .get(`${Url}/customer/${apiPath}/products`)\n    .then((res) => {\n      const productData = res.data.products;\n      renderProducts(productData);\n      productFilter(productData);\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    });\n}\n\n// 渲染購物車列表\nfunction renderCart(data) {\n  const shoppingCartList = document.querySelector('.shoppingCart-list');\n  const totalPrice = document.querySelector('.totalPrice');\n  let str = '';\n\n  data.carts.forEach((item) => {\n    str += `\n      <tr>\n        <td>\n          <div class=\"cardItem-title\">\n            <img src=\"${item.product.images}\" alt=\"\" />\n            <p>${item.product.title}</p>\n          </div>\n        </td>\n        <td>NT$ ${toThousands(item.product.price)}</td>\n        <td>\n        <p >${item.quantity}</p>\n        <a class=\"fs-4 text-decoration-none me-4\" data-id=\"${\n  item.id\n}\" data-numchange=\"plus\" href=\"#\"><span class=\"material-symbols-outlined\">\n        add_circle\n        </span></a>\n        <a class=\"fs-4 text-decoration-none text-danger\" data-id=\"${\n  item.id\n}\" data-numchange=\"minus\" href=\"#\"><span class=\"material-symbols-outlined\">\n        do_not_disturb_on\n        </span></a>\n        </td>\n        <td>NT$ ${toThousands(item.product.price * item.quantity)}</td>\n        <td class=\"discardBtn\">\n          <a href=\"#\" class=\"material-icons\" data-deleteid=\"${item.id}\"> clear </a>\n        </td>\n      </tr>\n    `;\n  });\n\n  shoppingCartList.innerHTML = str;\n  totalPrice.textContent = `NT$ ${toThousands(data.finalTotal)}`;\n}\n\n// 加入購物車\nfunction addCart() {\n  const productList = document.querySelector('.productWrap');\n  if (productList) {\n    productList.addEventListener('click', (e) => {\n      e.preventDefault();\n      if (e.target.getAttribute('class') === 'addCardBtn') {\n        const { id } = e.target.dataset;\n\n        axios\n          .post(`${Url}/customer/${apiPath}/carts`, {\n            data: {\n              productId: id,\n              quantity: 1,\n            },\n          })\n          .then((res) => {\n            const updateCartData = res.data;\n            renderCart(updateCartData);\n            Swal.fire({\n              icon: 'success',\n              title: '已加入購物車',\n              showConfirmButton: false,\n              timer: 1500,\n            });\n          })\n          .catch((error) => {\n            // eslint-disable-next-line no-console\n            console.log(error);\n          });\n      }\n    });\n  }\n}\n\n// 修改購物車數量\nfunction updateCart() {\n  const shoppingCartList = document.querySelector('.shoppingCart-list');\n  if (shoppingCartList) {\n    shoppingCartList.addEventListener('click', (e) => {\n      e.preventDefault();\n\n      axios\n        .get(`${Url}/customer/${apiPath}/carts`)\n        .then((res) => {\n          const cartData = res.data;\n\n          const numBtn = e.target.closest('A');\n          if (e.target.nodeName !== 'SPAN') {\n            return;\n          }\n\n          const cartId = numBtn.dataset.id;\n\n          let numCheck = 1;\n\n          cartData.carts.forEach((item) => {\n            if (item.id === cartId) {\n              if (numBtn.dataset.numchange === 'plus') {\n                // eslint-disable-next-line no-multi-assign, no-param-reassign\n                numCheck = item.quantity += 1;\n              } else if (numBtn.dataset.numchange === 'minus') {\n                // eslint-disable-next-line no-multi-assign, no-param-reassign\n                numCheck = item.quantity -= 1;\n              }\n            }\n          });\n\n          if (numCheck < 1) {\n            Swal.fire({\n              icon: 'error',\n              title: '數量不能小於 1',\n              showConfirmButton: false,\n              timer: 1500,\n            });\n            return;\n          }\n\n          const newData = {\n            data: {\n              id: cartId,\n              quantity: numCheck,\n            },\n          };\n\n          // eslint-disable-next-line consistent-return\n          return axios.patch(`${Url}/customer/${apiPath}/carts`, newData);\n        })\n        .then((resp) => {\n          const updateCartData = resp.data;\n          renderCart(updateCartData);\n        })\n        .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log(error);\n        });\n    });\n  }\n}\n\n// 刪除全部購物車\nfunction deleteAllCart() {\n  const deleteAllCarts = document.querySelector('.js-deleteAllCarts');\n  if (deleteAllCarts) {\n    deleteAllCarts.addEventListener('click', (e) => {\n      e.preventDefault();\n      axios\n        .delete(`${Url}/customer/${apiPath}/carts`)\n        .then((res) => {\n          const deleteData = res.data;\n          renderCart(deleteData);\n          Swal.fire({\n            icon: 'success',\n            title: '已清空購物車',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        })\n        .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log(error);\n          Swal.fire({\n            title: '購物車已空',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    });\n  }\n}\n\n// 刪除特定購物車\nfunction deleteCart() {\n  const shoppingCartList = document.querySelector('.shoppingCart-list');\n  if (shoppingCartList) {\n    shoppingCartList.addEventListener('click', (e) => {\n      e.preventDefault();\n      if (e.target.nodeName !== 'A') {\n        return;\n      }\n\n      const cartId = e.target.dataset.deleteid;\n\n      axios\n        .delete(`${Url}/customer/${apiPath}/carts/${cartId}`)\n        .then((res) => {\n          const deleteData = res.data;\n          renderCart(deleteData);\n        })\n        .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log(error);\n        });\n    });\n  }\n}\n\n// 取得購物車資料\nfunction getCartData() {\n  axios\n    .get(`${Url}/customer/${apiPath}/carts`)\n    .then((res) => {\n      const cartData = res.data;\n      renderCart(cartData);\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    });\n}\n\n// 送出訂單\nfunction submitOrder() {\n  const orderInfoBtn = document.querySelector('.orderInfo-btn');\n  if (orderInfoBtn) {\n    orderInfoBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n\n      const customerName = document.querySelector('#customerName').value;\n      const customerPhone = document.querySelector('#customerPhone').value;\n      const customerEmail = document.querySelector('#customerEmail').value;\n      const customerAddress = document.querySelector('#customerAddress').value;\n      const tradeWay = document.querySelector('#tradeWay').value;\n\n      if (\n        customerName === ''\n        || customerPhone === ''\n        || customerEmail === ''\n        || customerAddress === ''\n        || tradeWay === ''\n      ) {\n        Swal.fire({\n          title: '資訊請填寫完整',\n          icon: 'error',\n          confirmButtonText: '確定',\n        });\n        return;\n      }\n\n      const orderData = {\n        data: {\n          user: {\n            name: customerName,\n            tel: customerPhone,\n            email: customerEmail,\n            address: customerAddress,\n            payment: tradeWay,\n          },\n        },\n      };\n\n      axios\n        .get(`${Url}/customer/${apiPath}/carts`)\n        .then((res) => {\n          const cartData = res.data.carts;\n          if (cartData.length === 0) {\n            Swal.fire({\n              title: '請加入購物車',\n              icon: 'error',\n              confirmButtonText: '確定',\n            });\n            return;\n          }\n\n          // eslint-disable-next-line consistent-return\n          return axios.post(`${Url}/customer/${apiPath}/orders`, orderData);\n        })\n        .then((res) => {\n          if (res.data !== null) {\n            Swal.fire({\n              icon: 'success',\n              title: '訂單送出成功',\n              showConfirmButton: false,\n              timer: 1500,\n            });\n\n            document.querySelector('#customerName').value = '';\n            document.querySelector('#customerPhone').value = '';\n            document.querySelector('#customerEmail').value = '';\n            document.querySelector('#customerAddress').value = '';\n            document.querySelector('#tradeWay').value = 'ATM';\n\n            getCartData();\n          }\n        })\n        .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log(error);\n        });\n    });\n  }\n}\n\n// 表單驗證\nfunction validateOrderForm() {\n  const inputs = document.querySelectorAll('input[name],select[name]');\n  const form = document.querySelector('.orderInfo-form');\n\n  const constraints = {\n    姓名: {\n      presence: {\n        message: '必填欄位',\n      },\n    },\n    電話: {\n      presence: {\n        message: '必填欄位',\n      },\n      length: {\n        minimum: 8,\n        message: '需超過 8 碼',\n      },\n    },\n    Email: {\n      presence: {\n        message: '必填欄位',\n      },\n      email: {\n        message: '格式錯誤',\n      },\n    },\n    寄送地址: {\n      presence: {\n        message: '必填欄位',\n      },\n    },\n    交易方式: {\n      presence: {\n        message: '必填欄位',\n      },\n    },\n  };\n\n  inputs.forEach((item) => {\n    item.addEventListener('blur', () => {\n      // eslint-disable-next-line no-param-reassign\n      item.nextElementSibling.textContent = '';\n      const errors = validate(form, constraints) || '';\n\n      if (errors) {\n        Object.keys(errors).forEach((keys) => {\n          document.querySelector(`[data-message=\"${keys}\"]`).textContent = errors[keys];\n        });\n      }\n    });\n  });\n}\n\n// 網頁初始化\nfunction init() {\n  getProductData();\n  getCartData();\n  addCart();\n  deleteAllCart();\n  updateCart();\n  deleteCart();\n  submitOrder();\n  validateOrderForm();\n}\n\ninit();\n"]}